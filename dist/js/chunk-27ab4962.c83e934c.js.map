{"version":3,"sources":["webpack:///./src/views/Management/Meal/MealEdit.vue?c0d1","webpack:///./src/views/Management/Meal/MealEdit.vue?5ca9","webpack:///./src/views/Management/Meal/MealEdit.js","webpack:///./src/views/Management/Meal/MealEdit.js?3204","webpack:///./src/views/Management/Meal/MealEdit.vue","webpack:///./src/components/ImageInput.vue?f8e4","webpack:///./node_modules/@coreui/utils/src/make-uid.js","webpack:///src/components/ImageInput.vue","webpack:///./src/components/ImageInput.vue?2fbe","webpack:///./src/components/ImageInput.vue","webpack:///./src/components/ImageInput.vue?9843"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","$route","name","mealCateList","model","value","mealData","callback","$$v","$set","expression","currSubCateList","scopedSlots","_u","key","fn","proxy","description","length","ingredient","on","$event","type","indexOf","_k","keyCode","reject","apply","arguments","note","priceInvalidStr","image","UploadImage","public","label","del","_e","save","staticRenderFns","components","draggable","ImageInput","data","currId","params","id","category","sub_category","price","limit_date","mealSubCateList","mounted","init","methods","undefined","getMealData","getMealCateList","getMealSubCateList","Number","query","cate","$store","commit","url","ApiUrl","getUrl","AjaxService","get","successResp","restData","resultData","limitDate","toString","Y","substr","M","D","subCategory","console","log","errorResp","resultList","map","item","zhName","e","returnValue","form","document","querySelector","classList","add","checkValidity","replace","sendData","isPublic","post","$router","push","focus","confirm","url_base","delete","computed","subList","find","categoryId","disabled","subCateList","sub","component","UploadImageSelectedStr","horizontal","isRequired","safeId","GetUploadImage","class","LabelGridClass","directives","rawName","ImagePreviewTitle","style","maxPreview","ImagePreviewSrc","removeUploadImage","makeUid","Math","random","props","default","wasValidated","oldImage","limitSize","limitUnit","watch","val","UploadImageName","files","event","reader","Validfile","file","size","unit","alert"],"mappings":"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","file":"js/chunk-27ab4962.c83e934c.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MealEdit.vue?vue&type=style&index=0&id=9ac04a74&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('CCard',[_c('CCardHeader',{staticClass:\"h5 font-weight-bold\"},[_c('CIcon',{staticClass:\"mt-0\",attrs:{\"name\":\"cil-restaurant\"}}),_vm._v(\" \"+_vm._s(this.$route.name)+\" \")],1),_c('CCardBody',[_c('CForm',{staticClass:\"needs-validation\",attrs:{\"id\":\"updateForm\"}},[_c('CRow',{attrs:{\"form\":\"\"}},[_c('CCol',{staticClass:\"col-form-label\",attrs:{\"sm\":\"3\"}},[_c('label',[_vm._v(\" 類別 \"),_c('span',{staticClass:\"text-danger\"},[_vm._v(\"*\")])])]),_c('CCol',{staticClass:\"form-row mx-0\",attrs:{\"sm\":\"9\"}},[_c('CSelect',{staticClass:\"col-6 pl-0 pr-1\",attrs:{\"placeholder\":\"請選擇類別\",\"invalidFeedback\":\"必填\",\"required\":\"\",\"options\":_vm.mealCateList},model:{value:(_vm.mealData.category),callback:function ($$v) {_vm.$set(_vm.mealData, \"category\", $$v)},expression:\"mealData.category\"}}),_c('CSelect',{staticClass:\"col-6 pl-1 pr-0\",attrs:{\"placeholder\":\"請選擇子類別\",\"invalidFeedback\":\"必填\",\"required\":\"\",\"options\":_vm.currSubCateList},model:{value:(_vm.mealData.sub_category),callback:function ($$v) {_vm.$set(_vm.mealData, \"sub_category\", $$v)},expression:\"mealData.sub_category\"}})],1)],1),_c('CInput',{attrs:{\"label\":\"名稱\",\"placeholder\":\"請填寫餐點名稱\",\"invalidFeedback\":\"必填\",\"horizontal\":\"\",\"required\":\"\",\"maxlength\":\"15\"},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_c('label',{staticClass:\"col-sm-3 col-form-label\"},[_vm._v(\" 名稱 \"),_c('span',{staticClass:\"text-danger\"},[_vm._v(\"*\")])])]},proxy:true}]),model:{value:(_vm.mealData.name),callback:function ($$v) {_vm.$set(_vm.mealData, \"name\", $$v)},expression:\"mealData.name\"}}),_c('CTextarea',{attrs:{\"label\":\"描述\",\"placeholder\":\"請描述餐點介紹\",\"invalidFeedback\":\"必填\",\"horizontal\":\"\",\"required\":\"\",\"maxlength\":\"220\",\"rows\":\"6\",\"description\":((_vm.mealData.description ? _vm.mealData.description.length : 0) + \" / 220\"),\"addWrapperClasses\":\"limit-hint\"},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_c('label',{staticClass:\"col-sm-3 col-form-label\"},[_vm._v(\" 描述 \"),_c('span',{staticClass:\"text-danger\"},[_vm._v(\"*\")])])]},proxy:true}]),model:{value:(_vm.mealData.description),callback:function ($$v) {_vm.$set(_vm.mealData, \"description\", $$v)},expression:\"mealData.description\"}}),_c('CTextarea',{attrs:{\"label\":\"內容物\",\"placeholder\":\"請列舉內容物\",\"invalidFeedback\":\"必填\",\"horizontal\":\"\",\"required\":\"\",\"maxlength\":\"100\",\"rows\":\"2\",\"description\":((_vm.mealData.ingredient ? _vm.mealData.ingredient.length : 0) + \" / 100\"),\"addWrapperClasses\":\"limit-hint\"},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.reject.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_c('label',{staticClass:\"col-sm-3 col-form-label\"},[_vm._v(\" 內容物 \"),_c('span',{staticClass:\"text-danger\"},[_vm._v(\"*\")])])]},proxy:true}]),model:{value:(_vm.mealData.ingredient),callback:function ($$v) {_vm.$set(_vm.mealData, \"ingredient\", $$v)},expression:\"mealData.ingredient\"}}),_c('CInput',{attrs:{\"label\":\"備註\",\"placeholder\":\"請填寫餐點備註\",\"horizontal\":\"\",\"maxlength\":\"250\",\"description\":((_vm.mealData.note ? _vm.mealData.note.length : 0) + \" / 250\"),\"addWrapperClasses\":\"limit-hint\"},model:{value:(_vm.mealData.note),callback:function ($$v) {_vm.$set(_vm.mealData, \"note\", $$v)},expression:\"mealData.note\"}}),_c('CInput',{attrs:{\"type\":\"number\",\"label\":\"價格\",\"placeholder\":\"請填寫餐點價格\",\"invalidFeedback\":_vm.priceInvalidStr,\"horizontal\":\"\",\"required\":\"\",\"min\":\"0\"},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_c('label',{staticClass:\"col-sm-3 col-form-label\"},[_vm._v(\" 價格 \"),_c('span',{staticClass:\"text-danger\"},[_vm._v(\"*\")])])]},proxy:true}]),model:{value:(_vm.mealData.price),callback:function ($$v) {_vm.$set(_vm.mealData, \"price\", $$v)},expression:\"mealData.price\"}}),_c('ImageInput',{attrs:{\"label\":\"照片\",\"horizontal\":\"\",\"limitSize\":300,\"limitUnit\":\"KB\",\"maxPreview\":\"300px\",\"oldImage\":_vm.mealData.image,\"value\":_vm.UploadImage},on:{\"update:value\":function($event){_vm.UploadImage=$event}}}),_c('CInput',{attrs:{\"type\":\"date\",\"label\":\"限定日期\",\"placeholder\":\"請選擇期間限定之餐點的下架日期\",\"description\":\"此為期間限定的下架時間，若非限定餐點，則須清除日期。\",\"horizontal\":\"\"},model:{value:(_vm.mealData.limit_date),callback:function ($$v) {_vm.$set(_vm.mealData, \"limit_date\", $$v)},expression:\"mealData.limit_date\"}}),_c('CRow',{attrs:{\"form\":\"\"}},[_c('CCol',{staticClass:\"col-form-label\",attrs:{\"sm\":\"3\"}},[_vm._v(\" 是否公開 \"),_c('span',{staticClass:\"text-danger\"},[_vm._v(\"*\")])]),_c('CCol',{staticClass:\"form-row justify-content-start mx-0\",attrs:{\"sm\":\"9\"}},[_c('CInputRadioGroup',{attrs:{\"custom\":\"\",\"inline\":\"\",\"checked\":_vm.mealData.public,\"options\":[\n              { value: true, label: '顯示' },\n              { value: false, label: '隱藏' } ]},on:{\"update:checked\":function($event){return _vm.$set(_vm.mealData, \"public\", $event)}}})],1)],1)],1)],1),_c('CCardFooter',{attrs:{\"align\":\"right\"}},[(_vm.currId)?_c('IconButton',{staticClass:\"float-left\",attrs:{\"color\":\"danger\",\"icon\":\"cil-trash\"},on:{\"clickFn\":function($event){return _vm.del()}}},[_vm._v(\"刪除此餐點\")]):_vm._e(),_c('CButton',{staticClass:\"mr-3\",attrs:{\"color\":\"secondary\",\"variant\":\"outline\",\"to\":(\"/mngt/meal?cate=\" + (this.mealData.category))}},[_vm._v(\"取消\")]),_c('CButton',{attrs:{\"color\":\"success\"},on:{\"click\":function($event){return _vm.save()}}},[_vm._v(\"儲存設定\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import ApiUrl from \"@/const/apiUrl.js\";\r\nimport AjaxService from \"@/services/ajaxService.js\";\r\nimport draggable from \"vuedraggable\";\r\nimport ImageInput from \"@/components/ImageInput\";\r\n\r\nexport default {\r\n  name: \"MealEdit\",\r\n  components: {\r\n    draggable,\r\n    ImageInput,\r\n  },\r\n  data() {\r\n    return {\r\n      // 當前餐點ID\r\n      currId: this.$route.params.id,\r\n      // 當前餐點類別資料\r\n      mealData: {\r\n        id: \"\",\r\n        category: \"\",\r\n        sub_category: \"\",\r\n        name: \"\",\r\n        description: \"\",\r\n        ingredient: \"\",\r\n        note: \"\",\r\n        price: \"\",\r\n        image: \"\",\r\n        limit_date: \"\",\r\n        public: true,\r\n      },\r\n      // 所有餐點類別\r\n      mealCateList: [],\r\n      // 所有餐點子類別\r\n      mealSubCateList: [],\r\n      // 上傳的圖片(base64字串)\r\n      UploadImage: \"\",\r\n    };\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  },\r\n  methods: {\r\n    init() {\r\n      if (this.currId !== undefined) {\r\n        this.getMealData();\r\n      }\r\n      this.getMealCateList();\r\n      this.getMealSubCateList();\r\n      this.mealData.category = Number(this.$route.query.cate);\r\n    },\r\n\r\n    // 取得當前餐點資料\r\n    getMealData() {\r\n      this.$store.commit(\"set\", [\"globalLoading\", true]);\r\n      let url = ApiUrl.getUrl(\"meal\", \"getOne\") + this.currId;\r\n      AjaxService.get(\r\n        url,\r\n        (successResp) => {\r\n          if (successResp.restData) {\r\n            let resultData = successResp.restData;\r\n            // 處理期間限定的日期值\r\n            let limit_date = \"\";\r\n            if (resultData.limitDate) {\r\n              limit_date = resultData.limitDate.toString();\r\n              let Y = limit_date.substr(0, 4),\r\n                M = limit_date.substr(4, 2),\r\n                D = limit_date.substr(6, 2);\r\n              limit_date = `${Y}-${M}-${D}`;\r\n            }\r\n            // 最終資料\r\n            this.mealData = {\r\n              id: resultData.id,\r\n              category: resultData.category,\r\n              sub_category: resultData.subCategory,\r\n              name: resultData.name,\r\n              description: resultData.description,\r\n              ingredient: resultData.ingredient,\r\n              note: resultData.note,\r\n              price: resultData.price,\r\n              image: resultData.image,\r\n              limit_date: limit_date,\r\n              public: resultData.public,\r\n            };\r\n            this.$store.commit(\"set\", [\"globalLoading\", false]);\r\n            console.log(\"查詢餐點成功!\");\r\n          }\r\n        },\r\n        (errorResp) => {\r\n          console.log(\"查詢餐點失敗!\");\r\n          console.log(errorResp);\r\n        }\r\n      );\r\n    },\r\n    // 取得所有餐點類別\r\n    getMealCateList() {\r\n      this.$store.commit(\"set\", [\"globalLoading\", true]);\r\n      let url = ApiUrl.getUrl(\"mealCate\", \"getAll\");\r\n      AjaxService.get(\r\n        url,\r\n        (successResp) => {\r\n          if (successResp.restData) {\r\n            let resultList = successResp.restData;\r\n            this.mealCateList = resultList.map((item) => {\r\n              let cate = {\r\n                value: item.id,\r\n                label: item.zhName,\r\n              };\r\n              return cate;\r\n            });\r\n            this.$store.commit(\"set\", [\"globalLoading\", false]);\r\n            console.log(\"查詢餐點類別成功!\");\r\n          }\r\n        },\r\n        (errorResp) => {\r\n          console.log(\"查詢餐點類別失敗!\");\r\n          console.log(errorResp);\r\n        }\r\n      );\r\n    },\r\n    // 取得所有餐點子類別\r\n    getMealSubCateList() {\r\n      this.$store.commit(\"set\", [\"globalLoading\", true]);\r\n      let url = ApiUrl.getUrl(\"mealCate\", \"getAllSub\");\r\n      AjaxService.get(\r\n        url,\r\n        (successResp) => {\r\n          if (successResp.restData) {\r\n            this.mealSubCateList = successResp.restData;\r\n            this.$store.commit(\"set\", [\"globalLoading\", false]);\r\n            console.log(\"查詢餐點子類別成功!\");\r\n          }\r\n        },\r\n        (errorResp) => {\r\n          console.log(\"查詢餐點子類別失敗!\");\r\n          console.log(errorResp);\r\n        }\r\n      );\r\n    },\r\n    // 禁止換行(輸入時不回傳此按鍵的值)\r\n    reject(e) {\r\n      e.returnValue = false;\r\n    },\r\n    // 送出資料儲存\r\n    save() {\r\n      const form = document.querySelector(\"#updateForm\");\r\n      form.classList.add(\"was-validated\");\r\n      if (form.checkValidity() === true) {\r\n        this.$store.commit(\"set\", [\"globalLoading\", true]);\r\n        // 處理圖片資料\r\n        let image = this.UploadImage != \"\" ? this.UploadImage : this.mealData.image;\r\n        // 處理期間限定資料\r\n        let limit_date = this.mealData.limit_date.replace(/-/g, \"\");\r\n        // 最終資料\r\n        let sendData = {\r\n          id: this.mealData.id,\r\n          category: this.mealData.category,\r\n          subCategory: this.mealData.sub_category,\r\n          name: this.mealData.name,\r\n          description: this.mealData.description,\r\n          ingredient: this.mealData.ingredient,\r\n          note: this.mealData.note,\r\n          price: this.mealData.price,\r\n          image: image,\r\n          limitDate: limit_date,\r\n          isPublic: this.mealData.public,\r\n        };\r\n\r\n        let url = ApiUrl.getUrl(\"meal\", \"save\");\r\n        AjaxService.post(\r\n          url,\r\n          sendData,\r\n          (successResp) => {\r\n            this.$store.commit(\"set\", [\"globalLoading\", false]);\r\n            console.log(\"修改餐點類別成功!\");\r\n            this.$router.push(\"/mngt/meal?cate=\" + this.mealData.category);\r\n          },\r\n          (errorResp) => {\r\n            console.log(\"修改餐點類別失敗!\");\r\n            console.log(errorResp);\r\n          }\r\n        );\r\n      } else {\r\n        document.querySelector(\"input:invalid,select:invalid,textarea:invalid\").focus();\r\n      }\r\n    },\r\n    del() {\r\n      if (confirm(\"是否確定要刪除？\\n***** 請注意！刪除後無法復原！*****\")) {\r\n        this.$store.commit(\"set\", [\"globalLoading\", true]);\r\n        let url_base = ApiUrl.getUrl(\"meal\", \"delete\");\r\n        AjaxService.delete(\r\n          url_base + this.mealData.id,\r\n          (successResp) => {\r\n            this.$store.commit(\"set\", [\"globalLoading\", false]);\r\n            console.log(\"刪除成功!\");\r\n            this.$router.push(\"/mngt/meal?cate=\" + this.mealData.category);\r\n          },\r\n          (errorResp) => {\r\n            console.log(\"刪除失敗!\");\r\n            console.log(errorResp);\r\n          }\r\n        );\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    currSubCateList() {\r\n      let subList = [];\r\n      let data = this.mealSubCateList.find((item) => item.categoryId === this.mealData.category);\r\n\r\n      if (this.mealData.category == \"\") {\r\n        subList = [\r\n          {\r\n            value: \"_\",\r\n            label: \"請先選擇大類別\",\r\n            disabled: true,\r\n          },\r\n        ];\r\n      } else if (data === undefined) {\r\n        subList = [\r\n          {\r\n            value: 0,\r\n            label: \"無\",\r\n          },\r\n        ];\r\n      } else {\r\n        subList = data.subCateList.map((item) => {\r\n          let sub = {\r\n            value: item.id,\r\n            label: item.name,\r\n          };\r\n          return sub;\r\n        });\r\n      }\r\n      return subList;\r\n    },\r\n    priceInvalidStr() {\r\n      return this.mealData.price == \"\" ? \"必填\" : \"不可為負值\";\r\n    },\r\n  },\r\n};\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!./MealEdit.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!./MealEdit.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MealEdit.vue?vue&type=template&id=9ac04a74&scoped=true&\"\nimport script from \"./MealEdit.js?vue&type=script&lang=js&\"\nexport * from \"./MealEdit.js?vue&type=script&lang=js&\"\nimport style0 from \"./MealEdit.vue?vue&type=style&index=0&id=9ac04a74&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9ac04a74\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('CInputFile',{staticClass:\"form-group\",attrs:{\"placeholder\":_vm.UploadImageSelectedStr,\"custom\":\"\",\"horizontal\":_vm.horizontal,\"required\":_vm.isRequired,\"accept\":\"image/*\",\"id\":_vm.safeId},on:{\"change\":_vm.GetUploadImage},scopedSlots:_vm._u([(_vm.horizontal)?{key:\"label\",fn:function(){return [_c('span',{class:_vm.LabelGridClass},[_vm._v(\" \"+_vm._s(_vm.label)+\" \"),(_vm.isRequired)?_c('span',{staticClass:\"text-danger\"},[_vm._v(\"*\")]):_vm._e()])]},proxy:true}:null,{key:\"description\",fn:function(){return [_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.ImagePreviewSrc),expression:\"ImagePreviewSrc\"}],staticClass:\"mt-2\"},[_c('small',{staticClass:\"d-block\"},[_vm._v(_vm._s(_vm.ImagePreviewTitle))]),_c('label',{staticClass:\"position-relative img-thumbnail bg-white\",attrs:{\"for\":_vm.safeId}},[_c('img',{style:((\"max-width:\" + _vm.maxPreview)),attrs:{\"src\":_vm.ImagePreviewSrc,\"alt\":\"\"}}),_c('CButton',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.UploadImage),expression:\"UploadImage\"}],staticClass:\"align-top p-1\",attrs:{\"color\":\"danger\",\"shape\":\"pill\"},on:{\"click\":_vm.removeUploadImage}},[_c('CIcon',{staticClass:\"m-0\",attrs:{\"name\":\"cil-x\",\"size\":\"sm\"}})],1)],1)])]},proxy:true}],null,true)})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//function for UI releted ID assignment, due to one in 10^15 probability of duplication\r\nconst makeUid = () => {\r\n  const key = Math.random().toString(36).substr(2)\r\n  return 'uid-' + key\r\n}\r\n\r\nexport default makeUid","<template>\r\n  <CInputFile :placeholder=\"UploadImageSelectedStr\" custom :horizontal=\"horizontal\" :required=\"isRequired\" accept=\"image/*\" @change=\"GetUploadImage\" :id=\"safeId\" class=\"form-group\">\r\n    <!-- Label -->\r\n    <template v-if=\"horizontal\" #label>\r\n      <span :class=\"LabelGridClass\">\r\n        {{ label }}\r\n        <span v-if=\"isRequired\" class=\"text-danger\">*</span>\r\n      </span>\r\n    </template>\r\n    <!-- 圖片預覽 -->\r\n    <template #description>\r\n      <div v-show=\"ImagePreviewSrc\" class=\"mt-2\">\r\n        <!-- --小標題-- -->\r\n        <small class=\"d-block\">{{ ImagePreviewTitle }}</small>\r\n        <!-- --圖片-- -->\r\n        <label :for=\"safeId\" class=\"position-relative img-thumbnail bg-white\">\r\n          <img :src=\"ImagePreviewSrc\" alt=\"\" :style=\"`max-width:${maxPreview}`\" />\r\n          <!-- --刪除上傳圖片的按鈕-- -->\r\n          <CButton v-show=\"UploadImage\" color=\"danger\" shape=\"pill\" @click=\"removeUploadImage\" class=\"align-top p-1\">\r\n            <CIcon name=\"cil-x\" size=\"sm\" class=\"m-0\" />\r\n          </CButton>\r\n        </label>\r\n      </div>\r\n    </template>\r\n  </CInputFile>\r\n</template>\r\n\r\n<script>\r\nimport { makeUid } from \"@coreui/utils/src\";\r\n\r\nexport default {\r\n  name: \"ImageInput\",\r\n  props: {\r\n    value: {\r\n      type: String,\r\n    },\r\n    label: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    wasValidated: Boolean,\r\n    // 橫向排版(CInput的)\r\n    horizontal: {\r\n      type: [Boolean, Object],\r\n      default: false,\r\n    },\r\n    // 原有圖片\r\n    oldImage: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    // 上傳的檔案大小限制\r\n    limitSize: {\r\n      type: Number,\r\n    },\r\n    // 上傳的檔案大小限制之單位\r\n    limitUnit: {\r\n      type: String,\r\n      default: \"KB\",\r\n    },\r\n    // 預覽圖的最大寬度\r\n    maxPreview: {\r\n      type: String,\r\n      default: \"100%\",\r\n    },\r\n  },\r\n  watch: {\r\n    value(val) {\r\n      this.UploadImage = val;\r\n    },\r\n    UploadImage(val) {\r\n      this.$emit(\"update:value\", val);\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      // 上傳的圖片(base64字串)\r\n      UploadImage: \"\",\r\n      // 上傳的圖片的檔名\r\n      UploadImageName: \"\",\r\n    };\r\n  },\r\n  computed: {\r\n    // 產生id\r\n    safeId() {\r\n      if (this.id || this.$attrs.id) {\r\n        return this.id || this.$attrs.id;\r\n      }\r\n      return makeUid();\r\n    },\r\n    // 是否需要必填\r\n    isRequired() {\r\n      if (this.oldImage == \"\") {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    // Label排版的class\r\n    LabelGridClass() {\r\n      if (this.horizontal === true) {\r\n        return \"col-sm-3 col-form-label\";\r\n      } else if (this.horizontal instanceof Object) {\r\n        return this.horizontal.label + \" col-form-label\";\r\n      }\r\n      return;\r\n    },\r\n    // 選擇檔案所顯示的文字\r\n    UploadImageSelectedStr() {\r\n      if (this.UploadImageName == \"\") {\r\n        return \"尚未選擇檔案\";\r\n      }\r\n      return this.UploadImageName;\r\n    },\r\n    // 預覽圖片區塊的小標題\r\n    ImagePreviewTitle() {\r\n      if (this.oldImage && !this.UploadImage) {\r\n        return \"現有影像\";\r\n      }\r\n      if (this.UploadImage) {\r\n        return \"上傳預覽\";\r\n      }\r\n    },\r\n    // 預覽圖片的src\r\n    ImagePreviewSrc() {\r\n      if (this.oldImage && !this.UploadImage) {\r\n        return this.oldImage;\r\n      }\r\n      if (this.UploadImage) {\r\n        return this.UploadImage;\r\n      }\r\n      return \"\";\r\n    },\r\n  },\r\n  methods: {\r\n    // 檔案上傳與圖片預覽\r\n    GetUploadImage(files, event) {\r\n      // const file = e.target.files.item(0);\r\n      // --(CInputFile傳過來的已經是e.target.files)\r\n      const file = files.item(0);\r\n      if (file) {\r\n        // valid:檢查圖片限制的結果\r\n        let valid = this.limitSize ? this.Validfile(file, \"image\", this.limitSize, this.limitUnit) : true;\r\n        // 顯示預覽圖、圖片存入data\r\n        if (valid) {\r\n          //--建立 reader 變數為一個檔案讀取器物件\r\n          this.UploadImageName = file.name;\r\n          const reader = new FileReader();\r\n          //--先準備好讀取器讀取檔案後要執行的工作\r\n          reader.addEventListener(\"load\", (e) => {\r\n            //----將 e.target.result (也就是讀取器接收到的檔案資訊)存入data\r\n            this.UploadImage = e.target.result;\r\n          });\r\n          //--讀取器讀取上傳的檔案內容\r\n          reader.readAsDataURL(file);\r\n        } else {\r\n          // 檢查不通過\r\n          this.removeUploadImage();\r\n        }\r\n      }\r\n    },\r\n    // 檢查圖片檔案大小\r\n    Validfile(file, type, size, unit) {\r\n      switch (unit) {\r\n        case \"Byte\":\r\n          var fileUnit = 1;\r\n          break;\r\n        case \"KB\":\r\n          var fileUnit = 1024;\r\n          break;\r\n        case \"MB\":\r\n          var fileUnit = 1024 * 1024;\r\n          break;\r\n        case \"GB\":\r\n          var fileUnit = 1024 * 1024 * 1024;\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n      let fileSize = (file.size / fileUnit).toFixed(0);\r\n      let fileType = file.name.substring(file.name.lastIndexOf(\".\"));\r\n\r\n      switch (type) {\r\n        case \"image\":\r\n          if (!fileType.match(/.jpg|.jpeg|.png|.svg/i)) {\r\n            alert(\"請上傳圖片檔案(.jpg|.jpeg|.png|.svg)\");\r\n            return false;\r\n          }\r\n          break;\r\n        default:\r\n          console.error(\"type_參數設置錯誤！\");\r\n          return false;\r\n          break;\r\n      }\r\n      if (fileSize > size) {\r\n        alert(\"檔案不能超過\" + size + unit);\r\n        return false;\r\n      }\r\n      return true;\r\n    },\r\n    // 移除上傳的圖片\r\n    removeUploadImage() {\r\n      this.UploadImage = \"\";\r\n      this.UploadImageName = \"\";\r\n      document.getElementById(this.safeId).value = null;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.img-thumbnail {\r\n  img {\r\n    width: 100%;\r\n    height: auto;\r\n  }\r\n  .btn {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    transform: translate(50%, -40%);\r\n    line-height: 1;\r\n    opacity: 0.6;\r\n    &:hover {\r\n      opacity: 1;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImageInput.vue?vue&type=template&id=37f136e6&scoped=true&\"\nimport script from \"./ImageInput.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageInput.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ImageInput.vue?vue&type=style&index=0&id=37f136e6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"37f136e6\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageInput.vue?vue&type=style&index=0&id=37f136e6&lang=scss&scoped=true&\""],"sourceRoot":""}