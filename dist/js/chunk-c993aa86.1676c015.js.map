{"version":3,"sources":["webpack:///./src/views/Management/MealCategory/MealCategory.vue?9992","webpack:///./src/components/ProcessButtons.vue?bac4","webpack:///src/components/ProcessButtons.vue","webpack:///./src/components/ProcessButtons.vue?727d","webpack:///./src/components/ProcessButtons.vue","webpack:///./src/views/Management/MealCategory/MealCategory.vue?3a32","webpack:///./src/views/Management/MealCategory/MealCategory.js","webpack:///./src/views/Management/MealCategory/MealCategory.js?f4db","webpack:///./src/views/Management/MealCategory/MealCategory.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","on","$event","edit","_v","del","staticRenderFns","name","props","isChange","type","default","itemId","required","itemGroup","editUrl","delUrl","delMsg","data","methods","checkChanged","AjaxService","url_base","console","computed","delAlertStr","component","mealCateList","changed","_l","cate","key","id","activeCateChanged","_s","name_zh","class","open","checkActiveCate","icon","mealSubCateList","subCate","init","addCate","saveSort","components","draggable","ProcessButtons","activeCate","mounted","getMealCateList","getMealSubCateList","$store","commit","url","ApiUrl","getUrl","get","successResp","restData","resultList","map","item","zhName","log","errorResp","forEach","categoryId","subCateList","currSubCateList","find","confirm","$router","push","sortData","idx","sort","put"],"mappings":"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","file":"js/chunk-c993aa86.1676c015.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MealCategory.vue?vue&type=style&index=0&id=3d11bd23&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('CButtonToolbar',{attrs:{\"justify\":\"\"}},[_c('IconButton',{staticClass:\"text-white my-1 mr-2\",attrs:{\"color\":\"warning\",\"size\":\"sm\",\"icon\":\"cil-pencil\"},on:{\"clickFn\":function($event){return _vm.edit()}}},[_vm._v(\"編輯\")]),_c('IconButton',{staticClass:\"text-white my-1 mr-2\",attrs:{\"color\":\"danger\",\"size\":\"sm\",\"icon\":\"cil-trash\"},on:{\"clickFn\":function($event){return _vm.del()}}},[_vm._v(\"刪除\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <CButtonToolbar justify>\r\n    <IconButton color=\"warning\" size=\"sm\" icon=\"cil-pencil\" @clickFn=\"edit()\" class=\"text-white my-1 mr-2\">編輯</IconButton>\r\n    <IconButton color=\"danger\" size=\"sm\" icon=\"cil-trash\" @clickFn=\"del()\" class=\"text-white my-1 mr-2\">刪除</IconButton>\r\n  </CButtonToolbar>\r\n</template>\r\n\r\n<script>\r\nimport ApiUrl from \"@/const/apiUrl.js\";\r\nimport AjaxService from \"@/services/ajaxService.js\";\r\n\r\nexport default {\r\n  name: \"ProcessButtons\",\r\n  props: {\r\n    // 是否曾經改動過\r\n    isChange: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    // 處理中項目的ID\r\n    itemId: {\r\n      required: true,\r\n    },\r\n    // 處理中項目所屬的群組\r\n    itemGroup: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    // 編輯頁面的url\r\n    editUrl: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    // 刪除的url\r\n    delUrl: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    // 刪除的提醒說明\r\n    delMsg: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n  },\r\n  data() {\r\n    return {};\r\n  },\r\n  methods: {\r\n    checkChanged() {\r\n      if (this.isChange) {\r\n        if (confirm(\"頁面內容曾修改過，尚未儲存修改的變更將會捨棄！\\n是否確定要離開此頁面？\")) {\r\n          // 確定離開\r\n          return true;\r\n        }\r\n        return false;\r\n      }\r\n      // 未曾修改=>確定離開\r\n      return true;\r\n    },\r\n    edit() {\r\n      if (this.checkChanged()) {\r\n        let url_base = this.editUrl == \"\" ? ApiUrl.getUrl(this.itemGroup, \"edit\") : this.editUrl;\r\n        this.$router.push(url_base + this.itemId);\r\n      }\r\n    },\r\n    del() {\r\n      if (confirm(this.delAlertStr)) {\r\n        if (this.checkChanged()) {\r\n          this.$store.commit(\"set\", [\"globalLoading\", true]);\r\n          let url_base = this.delUrl == \"\" ? ApiUrl.getUrl(this.itemGroup, \"delete\") : this.delUrl;\r\n          AjaxService.delete(\r\n            url_base + this.itemId,\r\n            (successResp) => {\r\n              this.$store.commit(\"set\", [\"globalLoading\", false]);\r\n              console.log(\"刪除成功!\");\r\n              this.$emit(\"reloadFn\");\r\n            },\r\n            (errorResp) => {\r\n              console.log(\"刪除失敗!\");\r\n              console.log(errorResp);\r\n            }\r\n          );\r\n        }\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    delAlertStr() {\r\n      return this.delMsg + \"是否確定要刪除？\\n***** 請注意！刪除後無法復原！*****\";\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProcessButtons.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProcessButtons.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProcessButtons.vue?vue&type=template&id=9e645470&scoped=true&\"\nimport script from \"./ProcessButtons.vue?vue&type=script&lang=js&\"\nexport * from \"./ProcessButtons.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9e645470\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('CCard',[_c('CCardHeader',{staticClass:\"h5 font-weight-bold\"},[_c('CIcon',{staticClass:\"mt-0\",attrs:{\"name\":\"cil-list-numbered\"}}),_vm._v(\" 餐點類別管理 \")],1),_c('CCardBody',[_c('CAlert',{attrs:{\"color\":\"info\",\"closeButton\":\"\"}},[_vm._v(\" 拖曳前方的 \"),_c('span',{staticClass:\"border border-dark px-1\"},[_c('CIcon',{staticClass:\"align-text-bottom\",attrs:{\"name\":\"cil-elevator\"}})],1),_vm._v(\" 來進行排序，修改後請按下方的 \"),_c('span',{staticClass:\"border border-dark rounded px-1\"},[_vm._v(\"儲存排序\")]),_vm._v(\" 。 \")]),_c('draggable',{staticClass:\"list-unstyled px-4\",attrs:{\"tag\":\"ul\",\"list\":_vm.mealCateList,\"handle\":\".move-icon\",\"animation\":200},on:{\"change\":function($event){_vm.changed = true}}},[_c('transition-group',{attrs:{\"name\":\"flip-list\"}},_vm._l((_vm.mealCateList),function(cate){return _c('li',{key:cate.id,staticClass:\"row border mb-3\"},[_c('CIcon',{attrs:{\"name\":\"cil-elevator\",\"customClasses\":\"move-icon border-right\"}}),_c('CButton',{staticClass:\"col text-left\",attrs:{\"size\":\"\"},on:{\"click\":function($event){return _vm.activeCateChanged(cate.id)}}},[_vm._v(\" \"+_vm._s(cate.name_zh)+\" \"),_c('CIcon',{staticClass:\"collapse-icon float-right\",class:{ open: _vm.checkActiveCate(cate.id) },attrs:{\"name\":\"cil-caret-bottom\"}})],1),_c('CCollapse',{staticClass:\"col-12 border-top p-3\",attrs:{\"show\":_vm.checkActiveCate(cate.id)}},[_c('CRow',[_c('CCol',{staticClass:\"mb-3 mb-sm-0\",attrs:{\"sm\":\"4\",\"md\":\"3\"}},[_vm._v(\" 圖示： \"),_c('img',{staticClass:\"img-thumbnail bg-white align-top\",attrs:{\"src\":cate.icon,\"alt\":\"\"}})]),_c('CCol',{staticClass:\"pb-4\",attrs:{\"sm\":\"8\",\"md\":\"9\"}},[_c('p',[_vm._v(\" 名稱： \"),_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(_vm._s(cate.name_zh))])]),_c('p',[_vm._v(\" Slug： \"),_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(_vm._s(cate.name))])]),_c('p',[_vm._v(\" 子類別： \"),(typeof _vm.mealSubCateList[cate.id] === 'undefined')?_c('span',{staticClass:\"text-muted\"},[_vm._v(\"無\")]):_vm._l((_vm.mealSubCateList[cate.id]),function(subCate){return _c('span',{key:(\"subCate_\" + (subCate.id)),staticClass:\"d-inline-block border rounded p-2 mb-2 mr-2\"},[_vm._v(_vm._s(subCate.name))])})],2),_c('ProcessButtons',{attrs:{\"is-change\":_vm.changed,\"item-id\":cate.id,\"item-group\":\"mealCate\",\"edit-url\":\"/mngt/meal/cate/edit/\",\"del-msg\":\"將會連同類別中的餐點一並刪除！ \"},on:{\"reloadFn\":_vm.init}})],1)],1)],1)],1)}),0)],1)],1),_c('CCardFooter',{attrs:{\"align\":\"right\"}},[_c('CButton',{staticClass:\"mr-2\",attrs:{\"color\":\"info\"},on:{\"click\":function($event){return _vm.addCate()}}},[_vm._v(\"新增類別\")]),_c('CButton',{attrs:{\"color\":\"success\"},on:{\"click\":function($event){return _vm.saveSort()}}},[_vm._v(\"儲存排序\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import ApiUrl from \"@/const/apiUrl.js\";\r\nimport AjaxService from \"@/services/ajaxService.js\";\r\nimport draggable from \"vuedraggable\";\r\nimport ProcessButtons from \"@/components/ProcessButtons\";\r\n\r\nexport default {\r\n  name: \"MealCategory\",\r\n  components: {\r\n    draggable,\r\n    ProcessButtons,\r\n  },\r\n  data() {\r\n    return {\r\n      // 所有餐點類別\r\n      mealCateList: [],\r\n      // 所有餐點子類別\r\n      mealSubCateList: [],\r\n      // 當前展開的餐點類別ID\r\n      activeCate: \"\",\r\n      // 是否曾經改動過\r\n      changed: false,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.getMealCateList();\r\n      this.getMealSubCateList();\r\n    },\r\n    // 取得所有餐點類別\r\n    getMealCateList() {\r\n      this.$store.commit(\"set\", [\"globalLoading\", true]);\r\n      let url = ApiUrl.getUrl(\"mealCate\", \"getAll\");\r\n      AjaxService.get(\r\n        url,\r\n        (successResp) => {\r\n          if (successResp.restData) {\r\n            let resultList = successResp.restData;\r\n            this.mealCateList = resultList.map((item) => {\r\n              let cate = {\r\n                id: item.id,\r\n                name: item.name,\r\n                name_zh: item.zhName,\r\n                icon: item.icon,\r\n              };\r\n              return cate;\r\n            });\r\n            this.$store.commit(\"set\", [\"globalLoading\", false]);\r\n            console.log(\"查詢餐點類別成功!\");\r\n          }\r\n        },\r\n        (errorResp) => {\r\n          console.log(\"查詢餐點類別失敗!\");\r\n          console.log(errorResp);\r\n        }\r\n      );\r\n    },\r\n    // 取得所有餐點子類別\r\n    getMealSubCateList() {\r\n      this.$store.commit(\"set\", [\"globalLoading\", true]);\r\n      let url = ApiUrl.getUrl(\"mealCate\", \"getAllSub\");\r\n      AjaxService.get(\r\n        url,\r\n        (successResp) => {\r\n          if (successResp.restData) {\r\n            // this.mealSubCateList = successResp.restData;\r\n            successResp.restData.forEach((item) => {\r\n              this.mealSubCateList[item.categoryId] = item.subCateList;\r\n            });\r\n            this.$store.commit(\"set\", [\"globalLoading\", false]);\r\n            console.log(\"查詢餐點子類別成功!\");\r\n          }\r\n        },\r\n        (errorResp) => {\r\n          console.log(\"查詢餐點子類別失敗!\");\r\n          console.log(errorResp);\r\n        }\r\n      );\r\n    },\r\n    // 取得當前餐點類別的子類別\r\n    currSubCateList(id) {\r\n      return this.mealSubCateList.find((item) => item.categoryId === id);\r\n    },\r\n    // 切換餐點類別展開的項目\r\n    activeCateChanged(id) {\r\n      this.activeCate = this.activeCate == id ? \"\" : id;\r\n    },\r\n    // 比對是否為當前展開的項目\r\n    checkActiveCate(id) {\r\n      return this.activeCate == id ? true : false;\r\n    },\r\n    // 檢查頁面內容是否曾修改過\r\n    checkChanged() {\r\n      if (this.changed) {\r\n        if (confirm(\"頁面內容曾修改過，尚未儲存修改的變更將會捨棄！\\n是否確定要離開此頁面？\")) {\r\n          // 確定離開\r\n          return true;\r\n        }\r\n        return false;\r\n      }\r\n      // 未曾修改=>確定離開\r\n      return true;\r\n    },\r\n    // 前往新增類別\r\n    addCate() {\r\n      if (this.checkChanged()) {\r\n        this.$router.push(\"/mngt/meal/cate/create\");\r\n      }\r\n    },\r\n    // 送出排序資料儲存\r\n    saveSort() {\r\n      this.$store.commit(\"set\", [\"globalLoading\", true]);\r\n      let sortData = this.mealCateList.map((item, idx) => {\r\n        let data = {\r\n          id: item.id,\r\n          sort: idx + 1,\r\n        };\r\n        return data;\r\n      });\r\n      let url = ApiUrl.getUrl(\"mealCate\", \"saveSort\");\r\n      AjaxService.put(\r\n        url,\r\n        sortData,\r\n        (successResp) => {\r\n          this.$store.commit(\"set\", [\"globalLoading\", false]);\r\n          console.log(\"修改餐點類別排序成功!\");\r\n          this.init();\r\n        },\r\n        (errorResp) => {\r\n          console.log(\"修改餐點類別排序失敗!\");\r\n          console.log(errorResp);\r\n        }\r\n      );\r\n    },\r\n  },\r\n};\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!./MealCategory.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!./MealCategory.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MealCategory.vue?vue&type=template&id=3d11bd23&scoped=true&\"\nimport script from \"./MealCategory.js?vue&type=script&lang=js&\"\nexport * from \"./MealCategory.js?vue&type=script&lang=js&\"\nimport style0 from \"./MealCategory.vue?vue&type=style&index=0&id=3d11bd23&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3d11bd23\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}